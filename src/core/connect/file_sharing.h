#ifndef __ESP_FILE_SHARING_H__
#define __ESP_FILE_SHARING_H__

#include "esp_connection.h"

class FileSharing : public EspConnection {
public:
    /////////////////////////////////////////////////////////////////////////////////////
    // Constructor
    /////////////////////////////////////////////////////////////////////////////////////
    FileSharing();

    /////////////////////////////////////////////////////////////////////////////////////
    // Operations
    /////////////////////////////////////////////////////////////////////////////////////
    void sendFile();
    void receiveFile();

private:
    String recvFileName;

    /////////////////////////////////////////////////////////////////////////////////////
    // Helpers
    /////////////////////////////////////////////////////////////////////////////////////
    File selectFile();
    bool appendToFile(Message fileMessage);
    void createFilename(FS *fs, Message fileMessage);
};

#endif
